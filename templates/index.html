<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="icon"
            href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>💿</text></svg>"
        />
        <title>Pi Radio Streamer</title>
        <link
            rel="stylesheet"
            href="{{ url_for('static', filename='css/styles.css') }}"
        />
    </head>
    <body class="App">
        <!-- Fixed elements -->
        <div class="TopBar">
            <div class="UpdateProgress">
                <div class="UpdateProgress-bar"></div>
            </div>
            <button class="IP-address">
                http://{{ ip_address }}:{{ port }}
            </button>
        </div>

        <!-- Sliding panels container -->
        <div class="Panels">
            <!-- Station grid panel -->
            <div class="Panel Panel--stations is-visible">
                <div class="StationGrid">
                    {% for id, station in stations.items() %}
                    <button
                        class="Button Button--station"
                        data-station-id="{{ id }}"
                        title="{{ station.name }}"
                    >
                        <img
                            class="Button-icon"
                            src="{{ station.image }}"
                            alt="{{ station.name }}"
                        />
                        <div class="Button-spinner"></div>
                    </button>
                    {% endfor %}
                </div>
            </div>

            <!-- Now playing panel -->
            <div class="Panel Panel--nowPlaying">
                <div class="NowPlaying">
                    <img class="NowPlaying-artwork" src="" alt="Album Art" />
                    <div class="NowPlaying-info">
                        <h3 class="NowPlaying-track">🎵</h3>
                        <p class="NowPlaying-artist">👤</p>
                        <p class="NowPlaying-album">💿</p>
                        <p class="NowPlaying-playlist">📑</p>
                        <p class="NowPlaying-release-date">🗓️</p>
                        <span class="NowPlaying-source badge"></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Fixed bottom bar -->
        <div class="BottomBar">
            <div class="BottomBar-left">
                <button
                    class="NavButton NavButton--back"
                    title="Back to stations"
                >
                    <svg width="24" height="24" viewBox="0 0 24 24">
                        <path
                            d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"
                        />
                    </svg>
                </button>
            </div>

            <div class="BottomBar-center">
                <button class="Button Button--stop" title="Stop">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                        <rect x="6" y="6" width="12" height="12" />
                    </svg>
                    <div class="Button-spinner"></div>
                </button>
            </div>

            <div class="BottomBar-right">
                <button
                    class="NavButton NavButton--forward"
                    title="Show now playing"
                >
                    <svg width="24" height="24" viewBox="0 0 24 24">
                        <path
                            d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"
                        />
                    </svg>
                </button>
            </div>
        </div>

        <div class="Status"></div>

        <script
            type="module"
            src="{{ url_for('static', filename='js/main.js') }}"
        ></script>
    </body>
</html>
